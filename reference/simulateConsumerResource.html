<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Simulates time series with the consumer-resource model."><title>Consumer-resource model simulation — simulateConsumerResource • miaSim</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Consumer-resource model simulation — simulateConsumerResource"><meta property="og:description" content="Simulates time series with the consumer-resource model."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">miaSim</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.7.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/miaSim.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/microbiome/miaSim/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Consumer-resource model simulation</h1>
      <small class="dont-index">Source: <a href="https://github.com/microbiome/miaSim/blob/HEAD/R/simulateConsumerResource.R" class="external-link"><code>R/simulateConsumerResource.R</code></a></small>
      <div class="d-none name"><code>simulateConsumerResource.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Simulates time series with the consumer-resource model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">simulateConsumerResource</span><span class="op">(</span></span>
<span>  <span class="va">n_species</span>,</span>
<span>  <span class="va">n_resources</span>,</span>
<span>  names_species <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  names_resources <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  E <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  x0 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  resources <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  resources_dilution <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  growth_rates <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  monod_constant <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sigma_drift <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  sigma_epoch <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  sigma_external <span class="op">=</span> <span class="fl">0.3</span>,</span>
<span>  sigma_migration <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  epoch_p <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  t_external_events <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  t_external_durations <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stochastic <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  migration_p <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  metacommunity_probability <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  error_variance <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  norm <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  t_end <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  trophic_priority <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  inflow_rate <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  outflow_rate <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  volume <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>n_species</dt>
<dd><p>Integer: number of species</p></dd>


<dt>n_resources</dt>
<dd><p>Integer: number of resources</p></dd>


<dt>names_species</dt>
<dd><p>Character: names of species. If NULL,
<code>paste0("sp", seq_len(n_species))</code> is used.
(default: <code>names_species = NULL</code>)</p></dd>


<dt>names_resources</dt>
<dd><p>Character: names of resources. If NULL,
<code>paste0("res", seq_len(n_resources))</code> is used.</p></dd>


<dt>E</dt>
<dd><p>matrix: matrix of efficiency. A matrix defining the efficiency of
resource-to-biomass conversion (positive values) and the relative conversion
of metabolic by-products (negative values). If NULL,
<code>randomE(n_species, n_resources)</code> is used.
(default: <code>E = NULL</code>)</p></dd>


<dt>x0</dt>
<dd><p>Numeric: initial abundances of simulated species. If NULL,
<code>runif(n = n_species, min = 0.1, max = 10)</code> is used.
(default: <code>x0 = NULL</code>)</p></dd>


<dt>resources</dt>
<dd><p>Numeric: initial concentrations of resources. If NULL,
<code>runif(n = n_resources, min = 1, max = 100)</code> is used.
(default: <code>resources = NULL</code>)</p></dd>


<dt>resources_dilution</dt>
<dd><p>Numeric: concentrations of resources in the
continuous inflow (applicable when inflow_rate &gt; 0). If NULL,
<code>resources</code> is used.
(default: <code>resources_dilution = NULL</code>)</p></dd>


<dt>growth_rates</dt>
<dd><p>Numeric: vector of maximum growth rates(mu) of species.
If NULL, <code>rep(1, n_species)</code> is used.
(default: <code>growth_rates = NULL</code>)</p></dd>


<dt>monod_constant</dt>
<dd><p>matrix: the constant of additive monod growth of
n_species consuming n_resources. If NULL,
<code>matrix(rgamma(n = n_species*n_resources, shape = 50*max(resources), rate = 1), nrow = n_species)</code>
is used.
(default: <code>monod_constant = NULL</code>)</p></dd>


<dt>sigma_drift</dt>
<dd><p>Numeric: standard deviation of a normally distributed
noise applied in each time step (t_step)
(default: <code>sigma_drift = 0.001</code>)</p></dd>


<dt>sigma_epoch</dt>
<dd><p>Numeric: standard deviation of a normally distributed
noise applied to random periods of the community composition with frequency
defined by the epoch_p parameter
(default: <code>sigma_epoch = 0.1</code>)</p></dd>


<dt>sigma_external</dt>
<dd><p>Numeric: standard deviation of a normally distributed
noise applied to user-defined external events/disturbances
(default: <code>sigma_external = 0.3</code>)</p></dd>


<dt>sigma_migration</dt>
<dd><p>Numeric: standard deviation of a normally distributed
variable that defines the intensity of migration at each time step (t_step)
(default: <code>sigma_migration = 0.01</code>)</p></dd>


<dt>epoch_p</dt>
<dd><p>Numeric: the probability/frequency of random periodic
changes introduced to the community composition
(default: <code>epoch_p = 0.001</code>)</p></dd>


<dt>t_external_events</dt>
<dd><p>Numeric: the starting time points of defined
external events that introduce random changes to the community composition
(default: <code>t_external_events = NULL</code>)</p></dd>


<dt>t_external_durations</dt>
<dd><p>Numeric: respective duration of the external
events that are defined in the 't_external_events' (times) and
sigma_external (std).
(default: <code>t_external_durations = NULL</code>)</p></dd>


<dt>stochastic</dt>
<dd><p>Logical: whether to introduce noise in the simulation.
If False, sigma_drift, sigma_epoch, and sigma_external are ignored.
(default: <code>stochastic = FALSE</code>)</p></dd>


<dt>migration_p</dt>
<dd><p>Numeric: the probability/frequency of migration from a
metacommunity.
(default: <code>migration_p = 0.01</code>)</p></dd>


<dt>metacommunity_probability</dt>
<dd><p>Numeric: Normalized probability distribution
of the likelihood that species from the metacommunity can enter the community
during the simulation. If NULL, <code>rdirichlet(1, alpha = rep(1,n_species))</code> is
used.
(default: <code>metacommunity_probability = NULL</code>)</p></dd>


<dt>error_variance</dt>
<dd><p>Numeric: the variance of measurement error.
By default it equals to 0, indicating that the result won't contain any
measurement error. This value should be non-negative.
(default: <code>error_variance = 0</code>)</p></dd>


<dt>norm</dt>
<dd><p>Logical: whether the time series should be returned with
the abundances as proportions (<code>norm = TRUE</code>) or
the raw counts (default: <code>norm = FALSE</code>)
(default: <code>norm = FALSE</code>)</p></dd>


<dt>t_end</dt>
<dd><p>Numeric: the end time of the simulationTimes, defining the
modeled time length of the community.
(default: <code>t_end = 1000</code>)</p></dd>


<dt>trophic_priority</dt>
<dd><p>Matrix: a matrix defining the orders of resources to
be consumed by each species. If NULL, by default, this feature won't be
turned on, and species will consume all resources simultaneously to grow.
The dimension should be identical to matrix E.
(default: <code>trophic_priority = NULL</code>)</p></dd>


<dt>inflow_rate, outflow_rate</dt>
<dd><p>Numeric: the inflow and outflow rate of a
culture process. By default, inflow_rate and outflow_rate are 0, indicating a
batch culture process. By setting them equally larger than 0, we can simulate
a continuous culture(e.g. chemostat).</p></dd>


<dt>volume</dt>
<dd><p>Numeric: the volume of the continuous cultivation. This
parameter is important for simulations where inflow_rate or outflow_rate are
not 0.
(default: <code>volume = 1000</code>)</p></dd>


<dt>...</dt>
<dd><p>additional parameters, see <code><a href="https://rdrr.io/r/utils/utils-package.html" class="external-link">utils</a></code> to know more.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>an TreeSummarizedExperiment class object</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">n_species</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="va">n_resources</span> <span class="op">&lt;-</span> <span class="fl">4</span></span></span>
<span class="r-in"><span><span class="va">tse</span> <span class="op">&lt;-</span> <span class="fu">simulateConsumerResource</span><span class="op">(</span></span></span>
<span class="r-in"><span>    n_species <span class="op">=</span> <span class="va">n_species</span>,</span></span>
<span class="r-in"><span>    n_resources <span class="op">=</span> <span class="va">n_resources</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># example with user-defined values (names_species, names_resources, E, x0,</span></span></span>
<span class="r-in"><span><span class="co"># resources, growth_rates, error_variance, t_end, t_step)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ExampleE</span> <span class="op">&lt;-</span> <span class="fu"><a href="randomE.html">randomE</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    n_species <span class="op">=</span> <span class="va">n_species</span>, n_resources <span class="op">=</span> <span class="va">n_resources</span>,</span></span>
<span class="r-in"><span>    mean_consumption <span class="op">=</span> <span class="fl">3</span>, mean_production <span class="op">=</span> <span class="fl">1</span>, maintenance <span class="op">=</span> <span class="fl">0.4</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ExampleResources</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">100</span>, <span class="va">n_resources</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tse1</span> <span class="op">&lt;-</span> <span class="fu">simulateConsumerResource</span><span class="op">(</span></span></span>
<span class="r-in"><span>    n_species <span class="op">=</span> <span class="va">n_species</span>,</span></span>
<span class="r-in"><span>    n_resources <span class="op">=</span> <span class="va">n_resources</span>, names_species <span class="op">=</span> <span class="va">letters</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">n_species</span><span class="op">)</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>    names_resources <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"res"</span>, <span class="va">LETTERS</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">n_resources</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>, E <span class="op">=</span> <span class="va">ExampleE</span>,</span></span>
<span class="r-in"><span>    x0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="va">n_species</span><span class="op">)</span>, resources <span class="op">=</span> <span class="va">ExampleResources</span>,</span></span>
<span class="r-in"><span>    growth_rates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">n_species</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    error_variance <span class="op">=</span> <span class="fl">0.01</span>,</span></span>
<span class="r-in"><span>    t_end <span class="op">=</span> <span class="fl">5000</span>,</span></span>
<span class="r-in"><span>    t_step <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example with trophic levels</span></span></span>
<span class="r-in"><span><span class="va">n_species</span> <span class="op">&lt;-</span> <span class="fl">10</span></span></span>
<span class="r-in"><span><span class="va">n_resources</span> <span class="op">&lt;-</span> <span class="fl">15</span></span></span>
<span class="r-in"><span><span class="va">ExampleEfficiencyMatrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="randomE.html">randomE</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    n_species <span class="op">=</span> <span class="fl">10</span>, n_resources <span class="op">=</span> <span class="fl">15</span>,</span></span>
<span class="r-in"><span>    trophic_levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">3</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    trophic_preferences <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ExampleResources</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">500</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tse2</span> <span class="op">&lt;-</span> <span class="fu">simulateConsumerResource</span><span class="op">(</span></span></span>
<span class="r-in"><span>    n_species <span class="op">=</span> <span class="va">n_species</span>,</span></span>
<span class="r-in"><span>    n_resources <span class="op">=</span> <span class="va">n_resources</span>,</span></span>
<span class="r-in"><span>    names_species <span class="op">=</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="va">n_species</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>    names_resources <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        <span class="st">"res"</span>, <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="va">n_resources</span><span class="op">]</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    E <span class="op">=</span> <span class="va">ExampleEfficiencyMatrix</span>,</span></span>
<span class="r-in"><span>    x0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="va">n_species</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    resources <span class="op">=</span> <span class="va">ExampleResources</span>,</span></span>
<span class="r-in"><span>    growth_rates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">n_species</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="co"># error_variance = 0.001,</span></span></span>
<span class="r-in"><span>    t_end <span class="op">=</span> <span class="fl">5000</span>, t_step <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># example with trophic priority</span></span></span>
<span class="r-in"><span><span class="va">n_species</span> <span class="op">&lt;-</span> <span class="fl">4</span></span></span>
<span class="r-in"><span><span class="va">n_resources</span> <span class="op">&lt;-</span> <span class="fl">6</span></span></span>
<span class="r-in"><span><span class="va">ExampleE</span> <span class="op">&lt;-</span> <span class="fu"><a href="randomE.html">randomE</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    n_species <span class="op">=</span> <span class="va">n_species</span>,</span></span>
<span class="r-in"><span>    n_resources <span class="op">=</span> <span class="va">n_resources</span>,</span></span>
<span class="r-in"><span>    mean_consumption <span class="op">=</span> <span class="va">n_resources</span>,</span></span>
<span class="r-in"><span>    mean_production <span class="op">=</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ExampleTrophicPriority</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">n_species</span> <span class="op">*</span> <span class="va">n_resources</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        nrow <span class="op">=</span> <span class="va">n_species</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fl">1</span>, <span class="va">order</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># make sure that for non-consumables resources for each species,</span></span></span>
<span class="r-in"><span><span class="co"># the priority is 0 (smaller than any given priority)</span></span></span>
<span class="r-in"><span><span class="va">ExampleTrophicPriority</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">ExampleE</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">*</span> <span class="va">ExampleTrophicPriority</span></span></span>
<span class="r-in"><span><span class="va">tse3</span> <span class="op">&lt;-</span> <span class="fu">simulateConsumerResource</span><span class="op">(</span></span></span>
<span class="r-in"><span>    n_species <span class="op">=</span> <span class="va">n_species</span>,</span></span>
<span class="r-in"><span>    n_resources <span class="op">=</span> <span class="va">n_resources</span>,</span></span>
<span class="r-in"><span>    E <span class="op">=</span> <span class="va">ExampleE</span>,</span></span>
<span class="r-in"><span>    trophic_priority <span class="op">=</span> <span class="va">ExampleTrophicPriority</span>,</span></span>
<span class="r-in"><span>    t_end <span class="op">=</span> <span class="fl">2000</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Yagmur Simsek, Karoline Faust, Yu Gao, Emma Gheysen, Daniel Rios Garza, Tuomas Borman, Leo Lahti.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

